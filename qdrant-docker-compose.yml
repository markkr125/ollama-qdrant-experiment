version: '3.8'

services:
  qdrant:
    image: qdrant/qdrant:latest  # Or pin a version, e.g., v1.11.0
    container_name: qdrant
    ports:
      - "6333:6333"  # REST API and Dashboard
      - "6334:6334"  # gRPC
    volumes:
      - ./qdrant_storage:/qdrant/storage:z # Persistent storage at your custom path
    restart: unless-stopped
    ulimits:
      nofile:
        soft: 65535
        hard: 65535
    # Optional: For better security in production
    # user: "1000:1000"  # Explicitly set if needed

# Optional: Define a named volume if you prefer (but direct bind is fine here)
# volumes:
#   qdrant_storage:
#     external: false
#     name: qdrant_storage
